

## Методы

### add_book(data, book)
- добавляет новую книгу с указанными данными (id, title, author, date, rating)
- проверяет уникальность id, выводит ошибку, если книга с таким id уже есть
- сохраняет обновлённый список книг в файл

### get_book(data, book_id)
- ищет книгу по уникальному идентификатору (id)
- возвращает данные книги, если она найдена
- если книга не найдена, возвращает None

### update_book(data, book_id, new_fields)
- находит книгу по id и обновляет указанные поля согласно new_fields
- сохраняет изменения в файл
- выводит сообщение об успешном обновлении или ошибке

### delete_book(data, book_id)
- удаляет книгу по id из списка
- сохраняет обновлённый список в файл
- сообщает об успехе или о том, что книга не найдена

### load_data()
- загружает список книг из JSON-файла при запуске программы
- если файла нет — возвращает пустой список

### save_data(data)
- сохраняет весь список книг в JSON-файл


---

# Алгоритмическая сложность операций

- add_book: \(O(n)\) — проверяется уникальность id перебором всего списка из \(n\) книг
- get_book: \(O(n)\) — поиск книги по id происходит линейным перебором
- update_book: \(O(n)\) — сначала производится линейный поиск книги, затем обновление происходит за \(O(1)\)
- delete_book: \(O(n)\) — поиск индекса книги и удаление элемента списка линейны по времени
- load_data: \(O(n)\) — при загрузке читается весь JSON-файл и преобразуется в список книг
- save_data: \(O(n)\) — при сохранении сериализуются и записываются все \(n\) книг в файл

---

# Пояснения

- Сложность \(O(n)\) означает, что время выполнения операции пропорционально количеству книг в базе.
- В вашем коде данные хранятся в списке словарей — поиск, проверка и удаление предполагают перебор элементов, что даёт линейную сложность.
- Загрузка и сохранение данных требуют обработки всего списка книг, что также происходит за линейное время.
- Для повышения эффективности при большом объёме данных можно рассмотреть использование словаря с книгами по id, что позволит делать операции поиска, добавления и удаления за константное время \(O(1)\).

